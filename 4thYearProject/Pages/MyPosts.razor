@page "/profile/{DisplayName}"

<h1 class="page-title">All employees</h1>

@if (User != null)
{

    <header>
        <div class="container">

            <div class="profile">

                <div class="profile-image">

                    @if (User.ProfilePic != null)
                    {
                        <img src=@User.ProfilePic alt="">
                    }
                    else
                    {
                        <img src="images/profilePicture.jpg" alt="">
                    }
                </div>

                <div class="profile-user-settings">

                    <h1 class="profile-user-name">@DisplayName</h1>

                    @if (claimDisplayName.Equals(DisplayName))
                    {
                        <button class="btn profile-edit-btn" @onclick="ProfileSettings">Edit Profile</button>
                    }
                </div>

                <div class="profile-stats">

                    <ul>
                        @if (Posts != null)
                        {
                            <li><span class="profile-stat-count">@Posts.Count()</span> posts</li>
                        }

                        @if (FollowerCount != null)
                        {
                            <li><span class="profile-stat-count">@FollowerCount</span> followers</li>
                        }
                        @if (FollowingCount != null)
                        {
                            <li><span class="profile-stat-count">@FollowingCount</span> following</li>
                        }
                    </ul>

                </div>

                <div class="profile-bio">

                        <p><span class="profile-real-name">@User.FirstName @User.SecondName</span>  Just an average guy. </p>
                    
                </div>

                @if (!claimDisplayName.Equals(DisplayName))
                {
                    if (IsFollowing)
                    {
                        <button class="btn btn-primary" @onclick="UnFollowUser">Unfollow</button>
                    }
                    else
                    {
                        <button class="btn btn-primary" @onclick="FollowUser">Follow</button>
                    }
                }

            </div>
            <!-- End of profile section -->

        </div>
        <!-- End of container -->
    </header>
    <main>
        @if (Posts == null)
        {
            <div class="loader"></div>
        }
        else
        {
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />


            <div class="container">
                <div class="gallery">
                    @foreach (var Post in Posts)
                    {

                        <div class="gallery-item" tabindex="0">

                            <img src="@Post.Thumbnail" @onclick="() => Navigate(Post.PostId)" class="gallery-image" alt="">

                        </div>


                    }
                </div>
            </div>
        }
    </main>


            }
            else
            {

            <p>No user found.</p>

            }
