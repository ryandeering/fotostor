@page "/basket/"

    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />





    <AuthorizeView>
        <Authorized>
            @if (basket != null)
            {
                @if (basket.BasketItems == null)
                {
                    <h1>No items found in basket.</h1>
                }
                else
                {
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Thumbnail</th>
                                <th>Type</th>
                                <th>Quanity</th>
                                <th>Item Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var orderLineItem in basket.BasketItems)
                            {
                                <tr>
                                    <th><img src=@orderLineItem.Post.Thumbnail width="100" height="100" /></th>
                                    <th>@orderLineItem.Type</th>
                                    <th>@orderLineItem.Quantity</th>
                                    <th>@orderLineItem.GetItemTotal()</th>
                                </tr>
                            }
                        </tbody>
                        Price: @getPrice()
                    </table>

                    <button class="btn btn-success btn-sm" @onclick="PlaceOrder">
                        <span class="glyphicon glyphicon-euro"></span> Place Order
                    </button>

                    <button class="btn btn-success btn-sm" @onclick="EmptyBasket">
                        <span class="glyphicon glyphicon-euro"></span> Empty Basket
                    </button>


                }
            }
            else
            {
                <h1>No items in basket.</h1>
            }

        </Authorized>
        <NotAuthorized>

            <h1>Login or register to add items to basket.</h1>
        </NotAuthorized>
    </AuthorizeView>



